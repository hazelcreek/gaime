@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  body {
    @apply bg-terminal-bg text-terminal-text font-mono antialiased;
  }
  
  /* Custom scrollbar */
  ::-webkit-scrollbar {
    width: 8px;
  }
  
  ::-webkit-scrollbar-track {
    @apply bg-terminal-bg;
  }
  
  ::-webkit-scrollbar-thumb {
    @apply bg-terminal-border rounded-full;
  }
  
  ::-webkit-scrollbar-thumb:hover {
    @apply bg-terminal-dim;
  }
}

@layer components {
  .terminal-text {
    @apply text-terminal-text leading-relaxed;
  }
  
  .terminal-highlight {
    @apply text-terminal-accent;
  }
  
  .terminal-dim {
    @apply text-terminal-dim;
  }
}

@layer utilities {
  /* Start screen cinematic effects */
  .gaime-menu-effects {
    /* above dark overlay, below UI */
    z-index: 15;
    isolation: isolate;
  }

  .gaime-lightning {
    opacity: 0;
    mix-blend-mode: screen;
    will-change: opacity, filter;
    filter: blur(0px) brightness(1.0);
  }

  .gaime-lightning--a {
    background:
      radial-gradient(ellipse 60% 40% at 65% 20%, rgba(255, 255, 255, 0.55), transparent 60%),
      radial-gradient(ellipse 90% 65% at 55% 35%, rgba(200, 225, 255, 0.28), transparent 70%),
      linear-gradient(to bottom, rgba(255, 255, 255, 0.16), transparent 55%);
    animation: gaimeLightningA 17s linear infinite;
  }

  .gaime-lightning--b {
    background:
      radial-gradient(ellipse 55% 38% at 40% 18%, rgba(255, 255, 255, 0.50), transparent 62%),
      radial-gradient(ellipse 85% 60% at 45% 30%, rgba(190, 220, 255, 0.22), transparent 72%),
      linear-gradient(to bottom, rgba(255, 255, 255, 0.12), transparent 60%);
    animation: gaimeLightningB 23s linear infinite;
    animation-delay: 6s;
  }

  .gaime-raven {
    position: absolute;
    width: 110px;
    height: 55px;
    color: rgba(10, 10, 15, 0.85);
    opacity: 0;
    filter: drop-shadow(0 10px 18px rgba(0, 0, 0, 0.35));
    will-change: transform, opacity;
  }

  .gaime-raven__wing {
    transform-box: fill-box;
    will-change: transform;
  }

  .gaime-raven__wing--l {
    transform-origin: 95% 65%;
    animation: gaimeWingFlap 1.3s ease-in-out infinite;
  }

  .gaime-raven__wing--r {
    transform-origin: 5% 65%;
    animation: gaimeWingFlap 1.3s ease-in-out infinite reverse;
  }

  .gaime-raven--a {
    top: 62%;
    left: -18%;
    transform: translate3d(0, 0, 0) scale(0.75);
    animation: gaimeRavenFlyA 19s linear infinite;
  }

  .gaime-raven--b {
    top: 35%;
    left: -24%;
    transform: translate3d(0, 0, 0) scale(0.55);
    animation: gaimeRavenFlyB 27s linear infinite;
    animation-delay: 7s;
  }

  @keyframes gaimeWingFlap {
    0% { transform: rotate(0deg) scaleY(1); }
    50% { transform: rotate(-9deg) scaleY(0.92); }
    100% { transform: rotate(0deg) scaleY(1); }
  }

  @keyframes gaimeRavenFlyA {
    0% { opacity: 0; transform: translate3d(0, 0, 0) scale(0.75) rotate(-6deg); }
    6% { opacity: 0.32; }
    18% { opacity: 0.28; }
    55% { opacity: 0.24; }
    78% { opacity: 0.0; }
    100% { opacity: 0; transform: translate3d(150vw, -24vh, 0) scale(0.78) rotate(8deg); }
  }

  @keyframes gaimeRavenFlyB {
    0% { opacity: 0; transform: translate3d(0, 0, 0) scale(0.55) rotate(-3deg); }
    5% { opacity: 0.22; }
    20% { opacity: 0.18; }
    60% { opacity: 0.16; }
    85% { opacity: 0.0; }
    100% { opacity: 0; transform: translate3d(160vw, 10vh, 0) scale(0.52) rotate(6deg); }
  }

  @keyframes gaimeLightningA {
    0%, 74% { opacity: 0; filter: blur(0px) brightness(1.0); }
    76% { opacity: 0.65; filter: blur(0px) brightness(1.45); }
    77% { opacity: 0.15; filter: blur(1px) brightness(1.1); }
    78.2% { opacity: 0.75; filter: blur(0px) brightness(1.6); }
    79.2% { opacity: 0.08; filter: blur(1px) brightness(1.0); }
    80.0% { opacity: 0.35; filter: blur(0px) brightness(1.25); }
    81.0%, 100% { opacity: 0; filter: blur(0px) brightness(1.0); }
  }

  @keyframes gaimeLightningB {
    0%, 58% { opacity: 0; filter: blur(0px) brightness(1.0); }
    60% { opacity: 0.55; filter: blur(0px) brightness(1.4); }
    61% { opacity: 0.10; filter: blur(1px) brightness(1.0); }
    62.2% { opacity: 0.62; filter: blur(0px) brightness(1.55); }
    63.4% { opacity: 0.06; filter: blur(1px) brightness(1.0); }
    64.0% { opacity: 0.28; filter: blur(0px) brightness(1.2); }
    65.0%, 100% { opacity: 0; filter: blur(0px) brightness(1.0); }
  }

  /* Rising steam clouds around the gate */
  .gaime-fog {
    position: absolute;
    filter: blur(18px);
    will-change: transform, opacity;
    pointer-events: none;
    border-radius: 50%;
  }

  .gaime-fog--1 {
    width: 120px;
    height: 150px;
    bottom: 15%;
    left: 45%;
    background: 
      radial-gradient(ellipse 80% 70% at 35% 55%, rgba(180, 195, 205, 0.42), transparent 45%),
      radial-gradient(ellipse 60% 90% at 65% 40%, rgba(170, 185, 198, 0.38), transparent 50%),
      radial-gradient(ellipse 90% 60% at 50% 70%, rgba(160, 175, 190, 0.32), transparent 48%),
      radial-gradient(ellipse 70% 85% at 45% 30%, rgba(150, 168, 182, 0.28), transparent 52%),
      radial-gradient(circle at 50% 60%, rgba(175, 190, 200, 0.45), transparent 60%);
    animation: gaimeSteamRise1 8s ease-out infinite;
  }

  .gaime-fog--2 {
    width: 140px;
    height: 170px;
    bottom: 18%;
    left: 58%;
    background: 
      radial-gradient(ellipse 75% 85% at 60% 45%, rgba(185, 200, 210, 0.4), transparent 48%),
      radial-gradient(ellipse 85% 65% at 30% 60%, rgba(175, 190, 205, 0.36), transparent 52%),
      radial-gradient(ellipse 65% 95% at 55% 35%, rgba(165, 180, 195, 0.33), transparent 50%),
      radial-gradient(ellipse 90% 70% at 40% 70%, rgba(155, 172, 188, 0.3), transparent 54%),
      radial-gradient(circle at 50% 60%, rgba(180, 195, 208, 0.43), transparent 62%);
    animation: gaimeSteamRise2 9s ease-out infinite;
    animation-delay: -3s;
  }

  .gaime-fog--3 {
    width: 110px;
    height: 140px;
    bottom: 20%;
    left: 52%;
    background: 
      radial-gradient(ellipse 70% 80% at 40% 50%, rgba(190, 205, 215, 0.38), transparent 46%),
      radial-gradient(ellipse 85% 60% at 60% 65%, rgba(180, 195, 208, 0.35), transparent 49%),
      radial-gradient(ellipse 60% 90% at 50% 35%, rgba(170, 185, 200, 0.32), transparent 51%),
      radial-gradient(ellipse 75% 70% at 35% 75%, rgba(160, 175, 192, 0.28), transparent 53%),
      radial-gradient(circle at 50% 60%, rgba(185, 198, 210, 0.4), transparent 58%);
    animation: gaimeSteamRise3 7s ease-out infinite;
    animation-delay: -5s;
  }

  .gaime-fog--4 {
    width: 130px;
    height: 160px;
    bottom: 16%;
    left: 40%;
    background: 
      radial-gradient(ellipse 65% 88% at 55% 42%, rgba(182, 198, 208, 0.41), transparent 47%),
      radial-gradient(ellipse 88% 68% at 35% 58%, rgba(172, 188, 202, 0.37), transparent 51%),
      radial-gradient(ellipse 72% 82% at 62% 30%, rgba(162, 178, 193, 0.34), transparent 49%),
      radial-gradient(ellipse 80% 75% at 40% 72%, rgba(152, 170, 186, 0.3), transparent 54%),
      radial-gradient(circle at 50% 60%, rgba(177, 192, 205, 0.42), transparent 60%);
    animation: gaimeSteamRise4 8.5s ease-out infinite;
    animation-delay: -6.5s;
  }

  @keyframes gaimeSteamRise1 {
    0% {
      transform: translate3d(0, 0, 0) scale(0.8);
      opacity: 0;
    }
    15% {
      opacity: 0.6;
    }
    50% {
      transform: translate3d(-8%, -35%, 0) scale(1.2);
      opacity: 0.5;
    }
    100% {
      transform: translate3d(-15%, -65%, 0) scale(1.5);
      opacity: 0;
    }
  }

  @keyframes gaimeSteamRise2 {
    0% {
      transform: translate3d(0, 0, 0) scale(0.85);
      opacity: 0;
    }
    12% {
      opacity: 0.55;
    }
    48% {
      transform: translate3d(10%, -32%, 0) scale(1.25);
      opacity: 0.48;
    }
    100% {
      transform: translate3d(18%, -62%, 0) scale(1.6);
      opacity: 0;
    }
  }

  @keyframes gaimeSteamRise3 {
    0% {
      transform: translate3d(0, 0, 0) scale(0.75);
      opacity: 0;
    }
    18% {
      opacity: 0.58;
    }
    52% {
      transform: translate3d(-6%, -38%, 0) scale(1.15);
      opacity: 0.52;
    }
    100% {
      transform: translate3d(-12%, -70%, 0) scale(1.45);
      opacity: 0;
    }
  }

  @keyframes gaimeSteamRise4 {
    0% {
      transform: translate3d(0, 0, 0) scale(0.82);
      opacity: 0;
    }
    14% {
      opacity: 0.6;
    }
    50% {
      transform: translate3d(12%, -36%, 0) scale(1.22);
      opacity: 0.5;
    }
    100% {
      transform: translate3d(20%, -68%, 0) scale(1.55);
      opacity: 0;
    }
  }

  @media (prefers-reduced-motion: reduce) {
    .gaime-lightning,
    .gaime-raven,
    .gaime-raven__wing,
    .gaime-fog {
      animation: none !important;
    }
  }
}

