@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  body {
    @apply bg-terminal-bg text-terminal-text font-mono antialiased;
  }
  
  /* Custom scrollbar */
  ::-webkit-scrollbar {
    width: 8px;
  }
  
  ::-webkit-scrollbar-track {
    @apply bg-terminal-bg;
  }
  
  ::-webkit-scrollbar-thumb {
    @apply bg-terminal-border rounded-full;
  }
  
  ::-webkit-scrollbar-thumb:hover {
    @apply bg-terminal-dim;
  }
}

@layer components {
  .terminal-text {
    @apply text-terminal-text leading-relaxed;
  }
  
  .terminal-highlight {
    @apply text-terminal-accent;
  }
  
  .terminal-dim {
    @apply text-terminal-dim;
  }
}

@layer utilities {
  /* Start screen cinematic effects */
  .gaime-menu-effects {
    /* place between background image and dark overlay */
    z-index: 1;
  }

  .gaime-fog {
    mix-blend-mode: screen;
    opacity: 0.34;
    filter: blur(16px) saturate(1.08);
    transform: translate3d(0, 0, 0) scale(1.15);
    will-change: transform, opacity;
    background-size: 170% 170%;
    background-position: 10% 40%;
    background:
      radial-gradient(ellipse 55% 40% at 18% 72%, rgba(230, 240, 255, 0.40), transparent 62%),
      radial-gradient(ellipse 55% 40% at 52% 48%, rgba(200, 220, 250, 0.30), transparent 65%),
      radial-gradient(ellipse 58% 42% at 86% 78%, rgba(180, 205, 240, 0.26), transparent 64%),
      radial-gradient(ellipse 40% 32% at 36% 22%, rgba(245, 250, 255, 0.22), transparent 70%);
  }

  .gaime-fog--one {
    animation: gaimeFogDriftOne 18s ease-in-out infinite;
  }

  .gaime-fog--two {
    opacity: 0.24;
    filter: blur(22px) saturate(1.02);
    transform: translate3d(0, 0, 0) scale(1.25);
    background-size: 190% 190%;
    background-position: 70% 30%;
    animation: gaimeFogDriftTwo 26s ease-in-out infinite;
  }

  .gaime-fog--low {
    opacity: 0.38;
    mix-blend-mode: screen;
    filter: blur(20px) saturate(1.06);
    transform: translate3d(0, 0, 0) scale(1.3);
    will-change: transform, opacity;
    background-size: 210% 160%;
    background-position: 20% 100%;
    background:
      radial-gradient(ellipse 80% 55% at 50% 92%, rgba(255, 255, 255, 0.35), transparent 70%),
      radial-gradient(ellipse 70% 50% at 25% 95%, rgba(210, 230, 255, 0.25), transparent 72%),
      radial-gradient(ellipse 70% 50% at 80% 96%, rgba(190, 215, 250, 0.22), transparent 74%),
      linear-gradient(to top, rgba(255, 255, 255, 0.18), transparent 55%);
    animation: gaimeFogLow 14s ease-in-out infinite;
  }

  .gaime-haze {
    mix-blend-mode: overlay;
    opacity: 0.18;
    background:
      linear-gradient(120deg, rgba(120, 160, 210, 0.12), transparent 35%, rgba(70, 90, 130, 0.08)),
      radial-gradient(ellipse 80% 60% at 50% 70%, rgba(255, 255, 255, 0.08), transparent 70%);
    filter: blur(10px);
    transform: translate3d(0, 0, 0);
    animation: gaimeHazeBreath 14s ease-in-out infinite;
    will-change: transform, opacity;
  }

  .gaime-lightning {
    opacity: 0;
    mix-blend-mode: screen;
    will-change: opacity, filter;
    filter: blur(0px) brightness(1.0);
  }

  .gaime-lightning--a {
    background:
      radial-gradient(ellipse 60% 40% at 65% 20%, rgba(255, 255, 255, 0.55), transparent 60%),
      radial-gradient(ellipse 90% 65% at 55% 35%, rgba(200, 225, 255, 0.28), transparent 70%),
      linear-gradient(to bottom, rgba(255, 255, 255, 0.16), transparent 55%);
    animation: gaimeLightningA 17s linear infinite;
  }

  .gaime-lightning--b {
    background:
      radial-gradient(ellipse 55% 38% at 40% 18%, rgba(255, 255, 255, 0.50), transparent 62%),
      radial-gradient(ellipse 85% 60% at 45% 30%, rgba(190, 220, 255, 0.22), transparent 72%),
      linear-gradient(to bottom, rgba(255, 255, 255, 0.12), transparent 60%);
    animation: gaimeLightningB 23s linear infinite;
    animation-delay: 6s;
  }

  .gaime-raven {
    position: absolute;
    width: 110px;
    height: 55px;
    color: rgba(10, 10, 15, 0.85);
    opacity: 0;
    filter: drop-shadow(0 10px 18px rgba(0, 0, 0, 0.35));
    will-change: transform, opacity;
  }

  .gaime-raven__wing {
    transform-box: fill-box;
    will-change: transform;
  }

  .gaime-raven__wing--l {
    transform-origin: 95% 65%;
    animation: gaimeWingFlap 1.3s ease-in-out infinite;
  }

  .gaime-raven__wing--r {
    transform-origin: 5% 65%;
    animation: gaimeWingFlap 1.3s ease-in-out infinite reverse;
  }

  .gaime-raven--a {
    top: 62%;
    left: -18%;
    transform: translate3d(0, 0, 0) scale(0.75);
    animation: gaimeRavenFlyA 19s linear infinite;
  }

  .gaime-raven--b {
    top: 35%;
    left: -24%;
    transform: translate3d(0, 0, 0) scale(0.55);
    animation: gaimeRavenFlyB 27s linear infinite;
    animation-delay: 7s;
  }

  @keyframes gaimeFogDriftOne {
    0% {
      transform: translate3d(-6%, 2.5%, 0) scale(1.18);
      background-position: 10% 40%;
      opacity: 0.18;
    }
    35% {
      transform: translate3d(2.5%, -3.5%, 0) scale(1.24);
      background-position: 55% 35%;
      opacity: 0.30;
    }
    70% {
      transform: translate3d(7%, 1.5%, 0) scale(1.16);
      background-position: 85% 55%;
      opacity: 0.24;
    }
    100% {
      transform: translate3d(-6%, 2.5%, 0) scale(1.18);
      background-position: 10% 40%;
      opacity: 0.18;
    }
  }

  @keyframes gaimeFogDriftTwo {
    0% {
      transform: translate3d(8%, 3%, 0) scale(1.28);
      background-position: 70% 30%;
      opacity: 0.16;
    }
    45% {
      transform: translate3d(-4%, -4%, 0) scale(1.34);
      background-position: 20% 55%;
      opacity: 0.26;
    }
    100% {
      transform: translate3d(8%, 3%, 0) scale(1.28);
      background-position: 70% 30%;
      opacity: 0.16;
    }
  }

  @keyframes gaimeFogLow {
    0% {
      transform: translate3d(-10%, 1.2%, 0) scale(1.3);
      background-position: 20% 100%;
      opacity: 0.30;
    }
    35% {
      transform: translate3d(4.5%, -0.6%, 0) scale(1.36);
      background-position: 55% 98%;
      opacity: 0.44;
    }
    70% {
      transform: translate3d(10%, 0.8%, 0) scale(1.28);
      background-position: 85% 100%;
      opacity: 0.36;
    }
    100% {
      transform: translate3d(-10%, 1.2%, 0) scale(1.3);
      background-position: 20% 100%;
      opacity: 0.30;
    }
  }

  @keyframes gaimeHazeBreath {
    0% { opacity: 0.08; transform: translate3d(0, 0, 0); }
    50% { opacity: 0.14; transform: translate3d(0.6%, -0.4%, 0); }
    100% { opacity: 0.08; transform: translate3d(0, 0, 0); }
  }

  @keyframes gaimeWingFlap {
    0% { transform: rotate(0deg) scaleY(1); }
    50% { transform: rotate(-9deg) scaleY(0.92); }
    100% { transform: rotate(0deg) scaleY(1); }
  }

  @keyframes gaimeRavenFlyA {
    0% { opacity: 0; transform: translate3d(0, 0, 0) scale(0.75) rotate(-6deg); }
    6% { opacity: 0.32; }
    18% { opacity: 0.28; }
    55% { opacity: 0.24; }
    78% { opacity: 0.0; }
    100% { opacity: 0; transform: translate3d(150vw, -24vh, 0) scale(0.78) rotate(8deg); }
  }

  @keyframes gaimeRavenFlyB {
    0% { opacity: 0; transform: translate3d(0, 0, 0) scale(0.55) rotate(-3deg); }
    5% { opacity: 0.22; }
    20% { opacity: 0.18; }
    60% { opacity: 0.16; }
    85% { opacity: 0.0; }
    100% { opacity: 0; transform: translate3d(160vw, 10vh, 0) scale(0.52) rotate(6deg); }
  }

  @keyframes gaimeLightningA {
    0%, 74% { opacity: 0; filter: blur(0px) brightness(1.0); }
    76% { opacity: 0.65; filter: blur(0px) brightness(1.45); }
    77% { opacity: 0.15; filter: blur(1px) brightness(1.1); }
    78.2% { opacity: 0.75; filter: blur(0px) brightness(1.6); }
    79.2% { opacity: 0.08; filter: blur(1px) brightness(1.0); }
    80.0% { opacity: 0.35; filter: blur(0px) brightness(1.25); }
    81.0%, 100% { opacity: 0; filter: blur(0px) brightness(1.0); }
  }

  @keyframes gaimeLightningB {
    0%, 58% { opacity: 0; filter: blur(0px) brightness(1.0); }
    60% { opacity: 0.55; filter: blur(0px) brightness(1.4); }
    61% { opacity: 0.10; filter: blur(1px) brightness(1.0); }
    62.2% { opacity: 0.62; filter: blur(0px) brightness(1.55); }
    63.4% { opacity: 0.06; filter: blur(1px) brightness(1.0); }
    64.0% { opacity: 0.28; filter: blur(0px) brightness(1.2); }
    65.0%, 100% { opacity: 0; filter: blur(0px) brightness(1.0); }
  }

  @media (prefers-reduced-motion: reduce) {
    .gaime-fog,
    .gaime-haze,
    .gaime-lightning,
    .gaime-raven,
    .gaime-raven__wing {
      animation: none !important;
    }
  }
}

